CREATE OR REPLACE FUNCTION $DB_NAME$Views.SP_DCPGetSchool(
    pSchoolId INTEGER
)
RETURNS SETOF $DB_NAME$Views.School AS $$
BEGIN
    RETURN QUERY -- Return these query results
    SELECT SchoolId, SchoolDisplayName, Address, City, Department
    FROM $DB_NAME$Views.School
    WHERE (SchoolId = pSchoolId OR pSchoolId IS NULL)-- Return school (if specified, otherwise return all)
    AND SchoolId > 0 -- Ignore reserve fields
    ;
END;
$$ LANGUAGE 'plpgsql';