CREATE OR REPLACE FUNCTION $DB_NAME$Views.SP_DCPGetStudent(
    pStudentUserId INTEGER,
    pClassId INTEGER
)
RETURNS SETOF $DB_NAME$Views.Students AS $$
BEGIN
    RETURN QUERY
	SELECT * 
	FROM $DB_NAME$Views.Students
	WHERE (StudentUserId = pStudentUserId OR pStudentUserId IS NULL)
	AND (ClassId = pClassId OR pClassId IS NULL)
	ORDER BY Firstname, Lastname, ClassId
	;
END;
$$ LANGUAGE 'plpgsql';