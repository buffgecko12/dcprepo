CREATE OR REPLACE FUNCTION $APP_NAME$Views.SP_DCPUpsertStudent (
    pStudentUserId INTEGER, 
    pClassId INTEGER
) 
RETURNS VOID AS $$
BEGIN   

    -- Add student info
    INSERT INTO $APP_NAME$.User_Student(StudentUserId, ClassId)
    VALUES(pStudentUserId, pClassId)
    ON CONFLICT(StudentUserId) DO UPDATE SET
	    ClassId = EXCLUDED.ClassId
    ;
END;
$$ LANGUAGE 'plpgsql';